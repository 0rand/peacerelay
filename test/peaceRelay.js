var PeaceRelay = artifacts.require("./PeaceRelay.sol");

const blockHash = "0x" + "f82990de9b368d810ce4b858c45717737245aa965771565f8a41df4c75acc171"

const rlpBlockHeader = "0xf9020ea057ebf07eb9ed1137d41447020a25e51d30a0c272b5896571499c82c33ecb7288a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d493479461c808d82a3ac53231750dadc13c777b59310bd9a096dbad955b166f5119793815c36f11ffa909859bbfeb64b735cca37cbf10bef1a0b31f174d27b99cdae8e746bd138a01ce60d8dd7b224f7c60845914def05ecc58a084aea4a7aad5c5899bd5cfc7f309cc379009d30179316a2a7baa4a2ea4a438acb9010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000862d50ba175407831e84808347e7c48252088457a1118a8fe4b883e5bda9e7a59ee4bb99e9b1bca0c38853328f753c455edaa4dfc6f62a435e05061beac136c13dbdcd0ff38e5f40883b05c6d5524209f1"

const txRoot = "0xb31f174d27b99cdae8e746bd138a01ce60d8dd7b224f7c60845914def05ecc58"

contract('PeaceRelay', function(accounts) {
  var peaceRelay
  return PeaceRelay.new().then(instance => {
    peaceRelay = instance
    return peaceRelay.submitBlock(rlpBlockHeader, blockHash)
  }).then(() => {
    return peaceRelay.getTxRoot(blockHash)
  }).then(parsedTxRoot => {
    console.log("Parsed tx root", parsedTxRoot)
    assert.equal(parsedTxRoot, txRoot, "txRoots should match")
    //done()
  })
})
